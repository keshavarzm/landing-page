<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Edit a Meeting | Roundee</title>

    <link href="https://roundee.io/assets/css/custom.css" rel="stylesheet">
    <link href="https://roundee.io/assets/css/perfect-scrollbar.css" rel="stylesheet">
    <link href="https://roundee.io/assets/css/jquery-ui.css" rel="stylesheet">
	   <script src="https://code.jquery.com/jquery-1.12.4.min.js" ></script>
		<script src="/asset_new/js/landing.js"></script>
		<link type="text/css" rel="stylesheet" href="/asset_new/css/landing.css">
		<script>
			$(document).ready(function(){
				$('#header').load('/header');
				$('#footer').load('/footer');
			});
		</script>
</head>
<body id='bodyedit' style='display:none'>
	<!-- header -->
	<!--특정 문서가 아닌 전체 사이트 영역을 지정 , 로고나 해더 -->
	<header id="header" role="banner"></header>
	<!-- header:end -->
	<!-- main -->
    <main id="main" role="main">
		<section class="subBg type2">
			<header class="header">
				<h1>Edit your Meeting</h1>
			</header>
			<div class="subBox">
				<div class="subBoxin">
					<h2 class="fs24 gn">Step 1/2<span>Set time and date</span></h2>
					<div class="Hcon">
						<input type="email" value="" id="uEmail" placeholder="Your email" readonly>
						<div class="msgBox"><span class="emsg" style='display:none'>Error. Please enter a valid email address.</span></div>
					</div>

					<div class="calendar" id="datepicker">
					</div>
					<div class="add-schedule">

						<div class="form-control-wrap">
							<div class="date-title">
								<i class="icon-calendar">
									<svg width="22px" height="21px" viewBox="0 0 22 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
										<g id="Conference" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
											<g id="page1" transform="translate(-765.000000, -358.000000)" fill="#FFFFFF">
												<g id="pop-up-1" transform="translate(270.000000, 232.000000)">
													<g id="Group-5" transform="translate(480.000000, 111.000000)">
														<g id="Group-4" transform="translate(1.000000, 0.000000)">
															<g id="icon">
																<path d="M33.5693392,35.1132686 L16.3438617,35.1132686 C15.0299652,35.1132686 14,33.8849721 14,32.3173408 L14,19.6405564 C14,18.0729251 14.5907294,16.9574216 15.9055786,16.9574216 L21.6223143,16.9574216 L21.6223143,16.0015488 C21.6223143,15.4872893 21.9338764,15.0485437 22.4521938,15.0485437 C22.971464,15.0485437 23.391644,15.4662601 23.391644,15.9805196 L23.5278929,16.9574216 L26.3862608,16.9574216 L26.5225096,15.9805196 C26.5225096,15.4662601 26.9426897,15.0485437 27.4610071,15.0485437 C27.9802773,15.0485437 28.4004573,15.4662601 28.4004573,15.9805196 L28.2918394,16.9574216 L34.0085751,16.9574216 C35.3234243,16.9574216 35.9141537,18.0729251 35.9141537,19.6405564 L35.9141537,32.3173408 C35.9141537,33.8849721 34.8841885,35.1132686 33.5693392,35.1132686 L33.5693392,35.1132686 Z M33.5693392,18.7085805 L28.4004573,18.7085805 L28.4004573,19.0871061 C28.4004573,19.6013656 27.8573674,19.8250398 27.3390501,19.8250398 C26.8197799,19.8250398 26.5225096,19.6013656 26.5225096,19.0871061 L26.5225096,18.7085805 L23.391644,18.7085805 L23.391644,19.0871061 C23.391644,19.6013656 23.093421,19.8250398 22.5751036,19.8250398 C22.0558335,19.8250398 21.5136963,19.6013656 21.5136963,19.0871061 L21.5136963,18.7085805 L15.9055786,18.8691671 C15.7416988,18.8691671 15.8779477,19.0622534 15.8779477,19.6405564 L15.9055786,21.7367853 L34.0085751,21.7367853 L34.036206,19.6405564 C34.036206,19.0622534 33.7341718,18.7085805 33.5693392,18.7085805 L33.5693392,18.7085805 Z M34.036206,32.3173408 L34.0085751,23.6485308 L15.9055786,23.6485308 L15.8779477,32.3173408 C15.8779477,32.8956438 15.7416988,33.2072583 15.9055786,33.2072583 L34.0085751,33.2072583 C34.1724549,33.2072583 34.036206,32.8956438 34.036206,32.3173408 L34.036206,32.3173408 Z M21.6223143,30.3396401 L18.7639465,30.3396401 L18.7639465,27.4720218 C18.7639465,27.1288635 18.6629508,26.5438694 19.0088133,26.5438694 L21.9310181,26.5438694 C22.2768806,26.5438694 22.5570006,26.8210725 22.5570006,27.1651867 L22.5570006,30.0633929 C22.5570006,30.4065512 21.9681768,30.3396401 21.6223143,30.3396401 L21.6223143,30.3396401 Z M18.7639465,30.3396401 C18.4180839,30.3396401 18.7639465,30.062437 18.7639465,30.3396401 L18.7639465,30.3396401 Z" id="calendar-icon"></path>
															</g>
														</g>
													</g>
												</g>
											</g>
										</g>
									</svg>
								</i>
								<span class="date" id='selecteddate'></span>
							</div>

							<div class="form-control">
								<label>Title</label>
								<input type="text" value="" id='meetingtitle' maxlength="100">
							</div>

							<div class="form-control date-and-time">
								<label>Date and time</label>
								<input type='datetime-local' id='date-and-time' name='date-and-time' size="50px" id="date-and-time" onchange="changemobiledt()" required>
							</div>

							<div class="form-control inline f-l time">
								<label>Time</label>
								<select id="time">
									<option value='0'> </option>
									<option value='00:00'>00:00 am</option>
									<option value='00:15'>00:15 am</option>
									<option value='00:30'>00:30 am</option>
									<option value='00:45'>00:45 am</option>
									<option value='01:00'>01:00 am</option>
									<option value='01:15'>01:15 am</option>
									<option value='01:30'>01:30 am</option>
									<option value='01:45'>1:45 am</option>
									<option value='02:00'>2:00 am</option>
									<option value='02:15'>2:15 am</option>
									<option value='02:30'>2:30 am</option>
									<option value='02:45'>2:45 am</option>
									<option value='03:00'>3:00 am</option>
									<option value='03:15'>3:15 am</option>
									<option value='03:30'>3:30 am</option>
									<option value='03:45'>3:45 am</option>
									<option value='04:00'>4:00 am</option>
									<option value='04:15'>4:15 am</option>
									<option value='04:30'>4:30 am</option>
									<option value='04:45'>4:45 am</option>
									<option value='05:00'>5:00 am</option>
									<option value='05:15'>5:15 am</option>
									<option value='05:30'>5:30 am</option>
									<option value='05:45'>5:45 am</option>
									<option value='06:00'>6:00 am</option>
									<option value='06:15'>6:15 am</option>
									<option value='06:30'>6:30 am</option>
									<option value='06:45'>6:45 am</option>
									<option value='07:00'>7:00 am</option>
									<option value='07:15'>7:15 am</option>
									<option value='07:30'>7:30 am</option>
									<option value='07:45'>7:45 am</option>
									<option value='08:00'>8:00 am</option>
									<option value='08:15'>8:15 am</option>
									<option value='08:30'>8:30 am</option>
									<option value='08:45'>8:45 am</option>
									<option value='09:00'>9:00 am</option>
									<option value='09:15'>9:15 am</option>
									<option value='09:30'>9:30 am</option>
									<option value='09:45'>9:45 am</option>
									<option value='10:00'>10:00 am</option>
									<option value='10:15'>10:15 am</option>
									<option value='10:30'>10:30 am</option>
									<option value='10:45'>10:45 am</option>
									<option value='11:00'>11:00 am</option>
									<option value='11:15'>11:15 am</option>
									<option value='11:30'>11:30 am</option>
									<option value='11:45'>11:45 am</option>
									<option value='12:00'>12:00 pm</option>
									<option value='12:15'>12:15 pm</option>
									<option value='12:30'>12:30 pm</option>
									<option value='12:45'>12:45 pm</option>
									<option value='13:00'>13:00 pm</option>
									<option value='13:15'>13:15 pm</option>
									<option value='13:30'>13:30 pm</option>
									<option value='13:45'>13:45 pm</option>
									<option value='14:00'>14:00 pm</option>
									<option value='14:15'>14:15 pm</option>
									<option value='14:30'>14:30 pm</option>
									<option value='14:45'>14:45 pm</option>
									<option value='15:00'>15:00 pm</option>
									<option value='15:15'>15:15 pm</option>
									<option value='15:30'>15:30 pm</option>
									<option value='15:45'>15:45 pm</option>
									<option value='16:00'>16:00 pm</option>
									<option value='16:15'>16:15 pm</option>
									<option value='16:30'>16:30 pm</option>
									<option value='16:45'>16:45 pm</option>
									<option value='17:00'>17:00 pm</option>
									<option value='17:15'>17:15 pm</option>
									<option value='17:30'>17:30 pm</option>
									<option value='17:45'>17:45 pm</option>
									<option value='18:00'>18:00 pm</option>
									<option value='18:15'>18:15 pm</option>
									<option value='18:30'>18:30 pm</option>
									<option value='18:45'>18:45 pm</option>
									<option value='19:00'>19:00 pm</option>
									<option value='19:15'>19:15 pm</option>
									<option value='19:30'>19:30 pm</option>
									<option value='19:45'>19:45 pm</option>
									<option value='20:00'>20:00 pm</option>
									<option value='20:15'>20:15 pm</option>
									<option value='20:30'>20:30 pm</option>
									<option value='20:45'>20:45 pm</option>
									<option value='21:00'>21:00 pm</option>
									<option value='21:15'>21:15 pm</option>
									<option value='21:30'>21:30 pm</option>
									<option value='21:45'>21:45 pm</option>
									<option value='22:00'>22:00 pm</option>
									<option value='22:15'>22:15 pm</option>
									<option value='22:30'>22:30 pm</option>
									<option value='22:45'>22:45 pm</option>
									<option value='23:00'>23:00 pm</option>
									<option value='23:15'>23:15 pm</option>
									<option value='23:30'>23:30 pm</option>
									<option value='23:45'>23:45 pm</option>
								</select>
							</div>

							<div class="form-control inline f-r duration">
								<div class="tooltip"><label>Duration <img src='https://roundee.io/assets/img/icons/info.svg' style='margin-bottom:-2px'> </img><span class='tooltiptext'>This is purely informative, roundee will keep running if it’s overtime.</span></label></div>
								<select id="duration">
									<option value='15'>15 min</option>
									<option value='30' selected>30 min</option>
									<option value='45'>45 min</option>
									<option value='60'>60 min</option>
									<option value='90'>90 min</option>
									<option value='120'>120 min</option>
								</select>
							</div>
							<div class="msg" style='display:none'>You can only schedule a meeting more than 15 min from now.</div>
							<div class="checkBox">
								<input id='reminder' checked type="checkbox">
								<label for="reminder">Alert me by email 15 minutes before</label>
							</div>
							<div class="form-control set-time-zone">
								<label>Set time zone</label>
								<select id="set-time-zone">
								  <option value="US/Pacific">(GMT-08:00) US/Pacific</option>
								  <option value="Pacific/Midway">(GMT-11:00) Pacific/Midway</option>
								  <option value="US/Hawaii">(GMT-10:00) US/Hawaii</option>
								  <option value="US/Alaska">(GMT-09:00) US/Alaska</option>
								  <option value="US/Mountain">(GMT-07:00) US/Mountain</option>
								  <option value="US/Arizona">(GMT-07:00) US/Arizona</option>
								  <option value="US/Central">(GMT-06:00) US/Central</option>
								  <option value="US/Eastern">(GMT-05:00) US/Eastern</option>
								  <option value="America/Halifax">(GMT-04:00) America/Halifax</option>
								  <option value="America/St_Johns">(GMT-03:30) America/St_Johns</option>
								  <option value="America/Buenos_Aires">(GMT-03:00) America/Buenos_Aires</option>
								  <option value="Atlantic/South_Georgia">(GMT-02:00) Atlantic/South_Georgia</option>
								  <option value="Atlantic/Azores">(GMT-01:00) Atlantic/Azores</option>
								  <option value="WET">(GMT+00:00) WET</option>
								  <option value="Europe/Paris">(GMT+01:00) Europe/Paris</option>
								  <option value="Europe/Moscow">(GMT+03:00) Europe/Moscow</option>
								  <option value="Asia/Tehran">(GMT+03:30) Asia/Tehran</option>
								  <option value="Asia/Dubai">(GMT+04:00) Asia/Dubai</option>
								  <option value="Asia/Karachi">(GMT+05:00) Asia/Karachi</option>
								  <option value="Asia/Kolkata">(GMT+05:30) Asia/Kolkata</option>
								  <option value="Asia/Kathmandu">(GMT+05:45) Asia/Kathmandu</option>
								  <option value="Asia/Dhaka">(GMT+06:00) Asia/Dhaka</option>
								  <option value="Asia/Jakarta">(GMT+07:00) Asia/Jakarta</option>
								  <option value="Asia/Singapore">(GMT+08:00) Asia/Singapore</option>
								  <option value="Asia/Seoul">(GMT+09:00) Asia/Seoul</option>
								  <option value="Australia/Darwin">(GMT+09:30) Australia/Darwin</option>
								  <option value="Australia/Sydney">(GMT+11:00) Australia/Sydney</option>
								  <option value="Pacific/Noumea">(GMT+11:00) Pacific/Noumea</option>
								  <option value="Pacific/Auckland">(GMT+13:00) Pacific/Auckland</option>

								</select>
							</div>
							<div class="mb_msgBox">
								<span class="emsg" style='display:none'>Error. Please enter a valid email address.</span>
								<span class="msg" style='display:none'>You can only schedule a meeting more than 15 min from now.</span>
							</div>
							<div class="has-text-right pdt12">
								<button class="button" onclick='edit_schedule();'>Next</button>
							</div>
						</div>

            <input type="hidden" id='selected_time'>
            <input type="hidden" id='selected_time_zone'>
            <input type="hidden" id='selected_duration'>

					</div>
				</div>
			</div>
		</section>
	</main>
		<!-- footer -->
		<footer id="footer"></footer>
		<!-- footer:end -->
    <script>
      sessionStorage.setItem('resettimezone', false);
    </script>

    <script src="https://roundee.io/assets/js/jstz.min.js"></script>
    <script src="https://roundee.io/assets/js/jquery/jquery.min.js"></script>
    <script src="https://roundee.io/assets/js/jquery/jquery-ui.js"></script>

    <script type="text/javascript" src="https://roundee.io/assets/js/select.js"></script>
    <script src="https://roundee.io/assets/js/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="https://roundee.io/assets/js/moment.min.js"></script>
    <script src="https://momentjs.com/downloads/moment-timezone.min.js"></script>

    <script>
    $(document).ready(function(){
        $('.select-options').perfectScrollbar();
        search_conf();
    });

    function search_conf() {
      var xmlhttp = new XMLHttpRequest();
      xmlhttp.onreadystatechange = function () {
        if (xmlhttp.readyState == XMLHttpRequest.DONE) {
          if (xmlhttp.status == 200) {
            var resp = xmlhttp.response

              var userAgent = navigator.userAgent;
              var ismobiletype = false;
              if(userAgent.match(/Mobile|Windows Phone|Lumia|Android|webOS|iPhone|iPod|Blackberry|PlayBook|BB10|Opera Mini|\bCrMo\/|Opera Mobi/i) ){
                  ismobiletype = true;
              }

              var data = JSON.parse(resp);

              if(data.state=='end') {
                document.getElementById("bodyedit").style.display = "none";
                window.location.replace("/meeting-canceled.html");
                return;
              }

              if(data.state=='progress') {
                document.getElementById("bodyedit").style.display = "none";
                window.location.replace("/noteditcancel.html");
                return;
              }

              document.getElementById("bodyedit").style.display = "block";

              document.getElementById('meetingtitle').value= data.name;
              document.getElementById('uEmail').value = data.owner;

              var starttime= data.selected_time;

              var st_count = starttime.indexOf('T')+1;
              var dt = new Date(starttime.substring(0,st_count-1));

              document.getElementById("date-and-time").value = starttime;

              $('#datepicker').datepicker("setDate", new Date(moment(starttime).format('YYYY'),moment(starttime).format('MM')-1,moment(starttime).format('DD')) );

              if(ismobiletype) {
                $('[id=duration]').val(data.duration);
              }
              else {
                document.getElementById('sel_duration').innerHTML = data.duration + ' min';
                document.getElementById(data.duration).classList.add("selected");
                document.getElementById('15').classList.remove("selected");
              }


              var timezone_len = document.getElementById('set-time-zone').length;
              var timezone = document.getElementById("set-time-zone");

              for(var i=0; i< timezone_len ; i++) {
                var optionval = timezone.options[i].value;

                if(data.time_zone.toLowerCase() == optionval.toLowerCase()) {
                  if(ismobiletype) {
                    $('[id=set-time-zone]').val(optionval);
                  }
                  else {

                      document.getElementById('sel_set-time-zone').innerHTML = timezone.options[i].text;
                      if(data.time_zone!=='US/Pacific') {
                        document.getElementById('US/Pacific').classList.remove("selected");
                      }
                      document.getElementById(data.time_zone).classList.add("selected");
                  }
                }
              }

              var timer = document.getElementById("time");
              var selected_t = starttime.substring(st_count,st_count +5);

              for(var i=0 ; i<document.getElementById('time').length; i++) {
                var time_val= timer.options[i].value;
                if(time_val==starttime.substring(st_count,st_count +5)) {
                  selected_t =timer.options[i].text;
                  document.getElementById(time_val).classList.add("selected");
                  document.getElementById('selected_time').value = timer.options[i].value;
                  document.getElementById(time_val).style.display='block';
                }
              }

              document.getElementById('sel_time').innerHTML = selected_t;
              document.getElementById('0').classList.remove("selected");
              //document.getElementById(data.time_zone).classList.add("selected");

              if(data.reminder=='true') {
                document.getElementById('reminder').checked= true;
              } else {
                document.getElementById('reminder').checked= false;
              }


          } else if (xmlhttp.status == 400) {
             console.log('conference id not exists: 400');
             window.location.replace("/404.html");
          } else {
            console.log('conference id not exists: not done');
            window.location.replace("/404.html");
          }
        }
      };

      xmlhttp.open("POST", "https://roundee.io/landing/search_schedule", true);
      xmlhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
      xmlhttp.send('room_id=' + getQueryString('room_id') + '&owner=' +  getQueryString('id'));
  }

</script>

    <script src="./js/landing.js"></script>

</body>
</html>
